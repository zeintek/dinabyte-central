<div class="dashboard-container">
  <h1 class="page-title">Dashboard</h1>

  <div class="loading-overlay" *ngIf="loading">
    <mat-spinner></mat-spinner>
  </div>

  <!-- Tarjetas de resumen -->
  <div class="flex-row">
    <div class="col-4">
      <div class="info-card info-card-primary">
        <div class="info-card-title">Clientes Totales</div>
        <div class="info-card-value">{{totalClients}}</div>
        <mat-icon class="info-card-icon">people</mat-icon>
        <div class="info-card-footer">
          <span>{{activeClients}} activos</span>
        </div>
      </div>
    </div>

    <div class="col-4">
      <div class="info-card info-card-success">
        <div class="info-card-title">Facturas</div>
        <div class="info-card-value">{{totalInvoices}}</div>
        <mat-icon class="info-card-icon">receipt</mat-icon>
        <div class="info-card-footer">
          <span>{{pendingInvoices}} pendientes</span>
        </div>
      </div>
    </div>

    <div class="col-4">
      <div class="info-card info-card-warning">
        <div class="info-card-title">Ingresos Totales</div>
        <div class="info-card-value">{{totalRevenue | currency}}</div>
        <mat-icon class="info-card-icon">payments</mat-icon>
        <div class="info-card-footer">
          <span>Facturas pagadas</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Gráficos -->
  <div class="flex-row mt-4">
    <!-- Gráfico de Facturas por Estado -->
    <div class="col-6">
      <div class="card">
        <h2 class="section-title">Facturas por Estado</h2>
        <div class="chart-container">
          <canvas baseChart
                  [data]="invoiceChartData"
                  [type]="'doughnut'"
                  [options]="invoiceChartOptions">
          </canvas>
        </div>
      </div>
    </div>

    <!-- Gráfico de Ingresos Mensuales -->
    <div class="col-6">
      <div class="card">
        <h2 class="section-title">Ingresos Mensuales</h2>
        <div class="chart-container">
          <canvas baseChart
                  [data]="revenueChartData"
                  [type]="'line'"
                  [options]="revenueChartOptions">
          </canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Facturas recientes -->
  <div class="card mt-4">
    <div class="section-header">
      <h2 class="section-title">Facturas Recientes</h2>
      <a routerLink="/admin/billing/invoices" mat-button color="primary">Ver todas</a>
    </div>
    <!-- Aquí iría una tabla con las facturas recientes -->
  </div>
</div>
